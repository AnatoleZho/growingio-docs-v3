# 无埋点事件字段

## **无埋点事件**

{% tabs %}
{% tab title="visit" %}
| 名称 | 类型（长度） | 说明 |
| -- | ------ | -- |

| userId | string（36） | <p>用户ID。</p><p>正对单个用户生成的唯一ID。</p><p>示例：Web网站生成一个有效期3年的cookie值，App则为机器唯一标识码。</p> |
| ------ | ---------- | ------------------------------------------------------------------------------: |

| sessionId | string（36） | <p>访问ID。</p><ul><li>Web: 30分钟过期的session值，代表一次访问。</li><li>移动端: App退出30秒后再进入，刷新session值。</li><li>小程序：关闭5分钟再进入刷新session值。</li></ul><p>示例：6b5099c7-6006-422d-92ac-4f3bf4ddd37c</p> |
| --------- | ---------- | -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |

| sendTime | bigint | 发送时间。 |
| -------- | ------ | ----: |

| eventTime | bigint | 事件发生事件 |
| --------- | ------ | -----: |

| eventType | string（10） | 事件类型 |
| --------- | ---------- | ---: |

| ip | string（64） |   |
| -- | ---------- | - |

| countryName | string（30） | <p>国家名称。</p><p>用户所在的国家。</p> |
| ----------- | ---------- | --------------------------: |

| region | string（30） | <p>省份。</p><p>用户所在的省份。</p> |
| ------ | ---------- | ------------------------: |

| city | string（30） | <p>城市。</p><p>用户所在的城市。</p> |
| ---- | ---------- | ------------------------: |

| domain | string（100） | <p>域名。</p><p>用户访问的网站域名。</p> |
| ------ | ----------- | --------------------------: |

| path | string（512） | <p>路径。</p><p>网站路径。</p> |
| ---- | ----------- | ---------------------: |

| refer | string（1024） | 来源链接 |
| ----- | ------------ | ---: |

| userAgent | string（1024） |   |
| --------- | ------------ | - |

| appVersion | string（10） | 客户的产品版本，仅限App端。 |
| ---------- | ---------- | --------------: |

| model | string（50） | 用户的设备型号 |
| ----- | ---------- | ------: |

| manufacturer | string（50） | <p>用户的设备生产产商。</p><p>示例：小米</p> |
| ------------ | ---------- | ----------------------------: |

| channel | string（40） | <p>下载渠道。</p><p>App的下载渠道，仅限移动端。</p> |
| ------- | ---------- | ---------------------------------: |

| language | string（10） | <p>语言。</p><p>用户使用的设备系统语言。</p> |
| -------- | ---------- | ----------------------------- |

| osVersion | string（50） | <p>系统版本。</p><p>用户使用的设备系统版本。</p> |
| --------- | ---------- | ------------------------------- |

| resolution | string（20） | <p>设备分辨率</p><p>用户使用的设备分辨率。</p> |
| ---------- | ---------- | ------------------------------ |

| platform | string（10） | <p>数据来源</p><p>平台区分该数据属于哪个平台。</p><p>示例：Web Android iOS</p> |
| -------- | ---------- | --------------------------------------------------------- |

| id | string（16） | <p>访问事件ID</p><p>即visit_id，用于与page数据聚合，唯一标记visit事件。</p> |
| -- | ---------- | ------------------------------------------------------ |

| query | string（512） | <p>访问事件的query信息</p><p>访问时的连接中的query，与掐年的domain，path一起构建完整的链接。</p> |
| ----- | ----------- | ----------------------------------------------------------------- |

| lat | double | <p>gps纬度</p><p>mobile平台，需要gps权限。？？？</p> |
| --- | ------ | --------------------------------------- |

| lng | double | gps经度mobile平台独有的子弹，紧缺到小数点后5位。 |
| --- | ------ | ----------------------------- |
{% endtab %}

{% tab title="page" %}
| 名称 | 类型（长度） | 说明 |
| -- | ------ | -- |

| userId | string(36) | <p>用户ID</p><p>针对单个用户生成的唯一id</p><p>例如，web网站生成一个有效期三年的cookie值，App 则为机器唯一标识码</p> |
| ------ | ---------- | ----------------------------------------------------------------------------- |

| sessionId | string(36) |   |
| --------- | ---------- | - |

| sendTime | bigint | 数据发送过来的时间 |
| -------- | ------ | --------- |

| eventTime | bigint | 事件实际发生的时间 |
| --------- | ------ | --------- |

| eventType | string(15) | <p>该消息的类型</p><p>page表内类型为page</p> |
| --------- | ---------- | --------------------------------- |

| domain | string(100) | 用户访问的网站域名 |
| ------ | ----------- | --------- |

| path | string(512) | 网站路径 |
| ---- | ----------- | ---- |

| query | string(512) | <p>request请求中的查询参数</p><p>k1=v1&#x26;k2=v2</p> |
| ----- | ----------- | --------------------------------------------- |

| refer | string(1024) | 该用户从refer所在地址跳转过来 |
| ----- | ------------ | ----------------- |

| title | string(1024) | <p>页面名称</p><p>该网页名称，page title</p> |
| ----- | ------------ | ---------------------------------- |

| platform | string(10) | 区分该数据属于哪个平台：web, android, ios |
| -------- | ---------- | ----------------------------- |

| cs1 | string(200) | <p>用户信息字段1</p><p>客户平台的登陆用户id：cs1，如果客户安装sdk时设置过cs1字段（上传用户属性字段集cs，cs1用于设置用户id）</p> |
| --- | ----------- | -------------------------------------------------------------------------------- |

| cs2 | string(200) | 客户平台的项目id：cs2 |
| --- | ----------- | ------------- |

| cs3 | string(200) | ​ |
| --- | ----------- | - |

| cs4 | string(200) | ​ |
| --- | ----------- | - |

| cs5 | string(200) | ​ |
| --- | ----------- | - |

| cs6 | string(200) | ​ |
| --- | ----------- | - |

| cs7 | string(200) | ​ |
| --- | ----------- | - |

| cs8 | string(200) | ​ |
| --- | ----------- | - |

| cs9 | string(200) | ​ |
| --- | ----------- | - |

| cs10 | string(200) | ​ |
| ---- | ----------- | - |

| id | string(23) | <p>页面事件id</p><p>即page_id，用于与action数据聚合</p><p>唯一标记page事件</p> |
| -- | ---------- | ----------------------------------------------------------- |

| visit\_id | string(16) | <p>访问事件ID</p><p>即visit_id，用于与visit表数据聚合</p><p>。visit表内id</p> |
| --------- | ---------- | ------------------------------------------------------------ |

| pagegroup | string(100) | <p>页面组名称</p><p>需要在sdk集成时配置</p><p>用于标记设置的一组ps字段信息</p> |
| --------- | ----------- | ---------------------------------------------------- |

| ps1 | string(200) | sdk配置的页面信息字段1 |
| --- | ----------- | ------------- |

| ps2 | string(200) | ​ |
| --- | ----------- | - |

| ps3 | string(200) | ​ |
| --- | ----------- | - |

| ps4 | string(200) | ​ |
| --- | ----------- | - |

| ps5 | string(200) | ​ |
| --- | ----------- | - |

| ps6 | string(200) | ​ |
| --- | ----------- | - |

| ps7 | string(200) | ​ |
| --- | ----------- | - |

| ps8 | string(200) | ​ |
| --- | ----------- | - |

| ps9 | string(200) | ​ |
| --- | ----------- | - |

| ps10 | string(200) | ​ |
| ---- | ----------- | - |
{% endtab %}

{% tab title="action" %}
| 列名 | 字段名称 | 字段格式 | 字段说明 |
| -- | ---- | ---- | ---- |

| userId | 用户ID | string(36) | ​ |
| ------ | ---- | ---------- | - |

| sessionId | 会话ID | string(36) | "web: 30分钟过期的session值，代表一次会话,。mobile: app退出30秒后再进入，刷新session值" |
| --------- | ---- | ---------- | -------------------------------------------------------------- |

| sendTime | 发送时间 | bigint | 数据发送过来的时间 |
| -------- | ---- | ------ | --------- |

| eventTime | 事件发生时间 | bigint | 事件实际发生的时间 |
| --------- | ------ | ------ | --------- |

| eventType | 事件类型 | string(10) | <p>该消息的类型</p><p>可能值为clck(click), chng(change)，sbmt(submit)以及imp(impression)，change的含义</p> |
| --------- | ---- | ---------- | ----------------------------------------------------------------------------------------- |

| eventValue | 事件值 | string(1024) | <p>该消息的值，例如标签的value</p><p>示例：确定</p> |
| ---------- | --- | ------------ | ----------------------------------- |

| domain | 域名 | string(100) | <p>域名</p><p>用户访问的网站域名</p> |
| ------ | -- | ----------- | ------------------------- |

| path | 路径 | string(512) | <p>路径：</p><p>网站路径</p> |
| ---- | -- | ----------- | --------------------- |

| href | 链接 | string(1024) | <p>链接</p><p>标签内的跳转链接（如果没有则为null）</p> |
| ---- | -- | ------------ | ------------------------------------ |

| page\_id | 页面ID | string(23) | <p>页面ID</p><p>页面唯一的id，用于与page数据join</p> |
| -------- | ---- | ---------- | --------------------------------------- |

| action\_id | 事件ID | string(30) | <p>事件ID</p><p>标签事件的唯一id</p><p>web的action_id以wa开头，mobile以ma开头</p> |
| ---------- | ---- | ---------- | ---------------------------------------------------------------- |

| index | 列表序号 | bigint | <p>列表序号</p><p>列表类型标签的序号</p><p>用于标记列表内的第几项，分析列表中最常被点击的内容或者首项推广效果等等</p> |
| ----- | ---- | ------ | --------------------------------------------------------------------- |

| info | 事件附加信息 | string(200) | <p>事件附加信息</p><p>用户自定义事件信息</p><p>对应growingAttributesInfo设置的字段信息。</p> |
| ---- | ------ | ----------- | ------------------------------------------------------------------- |
{% endtab %}
{% endtabs %}

1. 三张数据表分别代表GIO定义的三种数据级别，访问级别（visit），页面级别（page）与标签级别（action）。visit代表访问级别的数据，按照session定义访问，page代表页面级别数据，打开的浏览页面就是一条记录，一条访问级别数据对应多条页面级别，action级别数据代表标签数据，定义页面元素标签的显示，点击，提交等事件，三者形成整个用户行为数据层级。目前导出的数据类型除了action下的imp(impression)类型因为数据量过大不可导出，其它数据都已经导出。
2. sendTime与eventTime的区别在于前者相当于是GIO平台接收到的时间，而eventTime是事件在客户端真正发生的时间，客户可以根据eventTime重现用户操作时间线。
3. 在refer中可以提取utm（广告链接关键字）或者搜索关键字等信息，用于分析访问来源。也可在visit表的query字段中提取utm信息。
4. appVersion，model，manufacturer，channel，osVersion仅在mobile端提供，更多信息可以从userAgent中提取。
5. 三张数据表可以根据“外键”join，分别是page\_id与page表的id，visit\_id与visit表的id，action\_id单独提供。因为标签事件并不导出impression（显示级别）的数据（数据量太大的缘故），所以建议通过action full outer join page，visit与page基本保持对应，若是在小时级别page数据无法join到对应的visit记录，visit记录可能存在于之前的小时单位中。
6. 所有数据已经根据userId, sessionId, sendTime进行排序，基本能够做到具体用户行为跟踪。
7. mobile端浏览器打开页面访问，默认platform类型为Web，若是需要区分则建议根据osVersion。
8. action数据中index，info为补充字段，参考changelog说明。

## 圈选数据映射关系

{% tabs %}
{% tab title="action_tag" %}
| 名称 | 类型 | 说明 |
| -- | -- | -- |

| sendTime | bigint | <p>发送时间</p><p>数据发送过来的时间</p> |
| -------- | ------ | --------------------------- |

| action\_id | string(30) | <p>事件ID。</p><p>标签事件的唯一id web的action_id以wa开头，mobile以ma开头</p> |
| ---------- | ---------- | ----------------------------------------------------------- |

| rule\_id | string(8) | <p>规则ID。</p><p>匹配事件的规则id，该id为growingio平台圈选的标签的唯一id.</p><p>该值由字母与数字组成，例如‘1ba052a9’.</p> |
| -------- | --------- | -------------------------------------------------------------------------------------- |
{% endtab %}

{% tab title="rules" %}
| 名称 | 类型 | 字段说明 |
| -- | -- | ---- |

| rule\_id | string(8) | <p>规则ID，匹配事件的规则ID，该ID为growingio平台圈选的标签的唯一ID。</p><p>该值由字母与数字组成，例如‘1ba052a9’。</p> |
| -------- | --------- | ------------------------------------------------------------------------------- |

| name | string(200) | <p>规则名称，圈选的标签名称。</p><p>该名称不可以作为唯一主键，只是便于使用区分。</p> |
| ---- | ----------- | ------------------------------------------------- |

| ruleType | string(10) | <p>规则类型，规则在定义时可能有不同的类型，例如按钮的imp或者clck。</p><p>值包括 page, imp, clck, chng, sbmt。</p> |
| -------- | ---------- | --------------------------------------------------------------------------------- |
{% endtab %}
{% endtabs %}

1. 在基础部分数据导出（visit, page, action)之外，提供圈选数据与action级别数据的映射部分。
2. 通过action数据中的action\_id与action\_tag中的action\_id聚合，绑定对应的rule\_id（映射的规则名称）到action数据上。
3. rules代表了客户在GrowingIO平台上圈选的标签，rule\_id即其唯一标识符。
4. 通过rules表将名称绑定到上述的action\_tag表中，便于通过名称进行数据分析，识别导出数据中圈选部分的数据情况。
5. action\_tag与rules表均是关联信息表，用于更进一步分析导出的部分数据，在导出数据中定位圈选数据。建议规则建立时保持名称的唯一性，GrowingIO平台不保证规则名称唯一性。
6. 相同的规则名称下可能有多个规则类型，规则名称＋规则类型才能区分，此处的规则类型与基础数据action中的事件类型保持一致。
